---
layout: post
section-type: post
has-comments: true
title: "LiveData"
category: android
---

<aside>
ðŸ’¡ Lifecycle-aware, only notify active observers about updates.

</aside>
<br>
## Advantages

- **No memory leaks**
    
    Observers are cleaned up when their associated lifecycle is destroyed.
    
- **No crashes due to stopped activities**
    
    If the observer is inactive, such as an activity in the back stack, it doesnâ€™t receive any LiveData events.
    
- **Always up to date data**
    
    Receive the latest data upon becoming active again.
    

## Work with LiveData objects

### Create LiveData object

Create an instance of `LiveData` to hold a certain type of data.

```kotlin
class NameViewModel : ViewModel() {

Â  Â  // Create a LiveData with a String
Â  Â  val currentName: MutableLiveData<String> by lazy {
Â  Â  Â  Â  MutableLiveData<String>()
Â  Â  }

Â  Â  // Rest of the ViewModel...
}
```

### Observe LiveData object

Create an `Observer` object that defines the `onChanged()` method, which controls what happened when the `LiveData` objectâ€™s held data changes.

Attach the `Observer` object to the `LiveData` object using the `observe()` method.

```kotlin
class NameActivity : AppCompatActivity() {

Â  Â  private val model: NameViewModel by viewModels()

Â  Â  override fun onCreate(savedInstanceState: Bundle?) {
Â  Â  Â  Â  super.onCreate(savedInstanceState)

Â  Â  Â  Â  // Other code to setup the activity...

Â  Â  Â  Â  // Create the observer which updates the UI.
Â  Â  Â  Â  val nameObserver = Observer<String> { newName ->
Â  Â  Â  Â  Â  Â  // Update the UI, in this case, a TextView.
Â  Â  Â  Â  Â  Â  nameTextView.text = newName
Â  Â  Â  Â  }

Â  Â  Â  Â  // Observe the LiveData, passing in this activity as the LifecycleOwner and the observer.
Â  Â  Â  Â  model.currentName.observe(this, nameObserver)
Â  Â  }
}
```

### Update LiveData object

When you update the value stored in the `LiveData` object, the UI automatically updates in response.

```kotlin
button.setOnClickListener {
Â  Â  val anotherName = "John Doe"
Â  Â  model.currentName.setValue(anotherName)
}
```